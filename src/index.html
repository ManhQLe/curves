<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Curves</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="content/css/main.css" />
    <script src="content/d3/d3.min.js"></script>
    <script src="content/js/curve.js"></script>
</head>
<body>
    <svg id="main-canvas">
    </svg>

    <script>
        let canvas = document.getElementById("main-canvas");
        let p1 = [0,0]
        let p2 = [100,200]        
        let p3 = [300,300]
        let p4 = [350,100]

        let b = ToBezier([p1,p2,p3,p4],.5)

        let g = d3.select(canvas).append("g");
        
        console.log(b)
        let d = [];
        for(let i = 0;i<b.length;i+=4){
            let b1 = b[i];
            let b2 = b[i+1];
            let b3 = b[i+2];
            let b4 = b[i+3];
            d.push(`M ${b1[0]} ${b1[1]}C${b2[0]} ${b2[1]}, ${b3[0]} ${b3[1]}, ${b4[0]} ${b4[1]}`)
        }


        g.append("path")
        .attr("d",d.join(""))
        .attr("stroke","red")
    </script>
</body>
</html>